{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","components/Avatar.js","components/ProjectList.js","pages/dashboard/ProjectFilter.js","pages/dashboard/Dashboard.js","hooks/useFirestore.js","pages/create/Create.js","hooks/useLogin.js","pages/login/Login.js","hooks/useSignup.js","pages/signup/Signup.js","pages/project/ProjectSummary.js","pages/project/ProjectComments.js","pages/project/Project.js","hooks/useDocument.js","hooks/useLogout.js","assets/temple.svg","components/Navbar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsubscribe","onAuthStateChanged","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderQuery","useState","documents","setDocuments","error","setError","query","useRef","current","orderQuery","ref","where","orderBy","onSnapshot","snapshot","results","docs","forEach","doc","push","id","data","console","log","Avatar","src","title","className","alt","ProjectList","projects","length","map","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","displayName","filterList","ProjectFilter","currentFilter","changeFilter","f","onClick","Dashboard","setCurrentFilter","filter","assignedToMe","u","uid","category","newFilter","intialState","document","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","users","setUsers","history","useHistory","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","options","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","option","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","res","online","useLogin","disabled","useSignup","signup","thumbnail","createUserWithEmailAndPassword","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","Signup","setDisplayName","setThumbnail","thumbnailError","setThumbnailError","selected","files","includes","size","ProjectSummary","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","Project","setDocument","err","useDocument","useParams","Navbar","logout","signOut","useLogout","Temple","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","App","basename","process","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c2046265.chunk.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBwPKqowgFJDC-zO_cAiPgDXHgibvGWqv8\",\n  authDomain: \"the-dojo-76b39.firebaseapp.com\",\n  projectId: \"the-dojo-76b39\",\n  storageBucket: \"the-dojo-76b39.appspot.com\",\n  messagingSenderId: \"830539958632\",\n  appId: \"1:830539958632:web:435ff56d7cf53273352edd\"\n};\n\nfirebase.initializeApp(firebaseConfig)\n\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\nconst projectStorage = firebase.storage()\n\nconst timestamp = firebase.firestore.Timestamp\n\nexport { projectFirestore, projectAuth, projectStorage, timestamp }","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n  switch(action.type) {\n    case 'LOGIN':\n      return {...state, user: action.payload};\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { ...state, user: action.payload, authIsReady: true};\n    default:\n      return state;\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsubscribe = projectAuth.onAuthStateChanged((user) => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user });\n      unsubscribe();\n    })\n  }, [])\n\n  return (\n    <AuthContext.Provider value={ {...state, dispatch} }>\n      { children }\n    </AuthContext.Provider>\n  )\n}\n","import { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw new Error('useAuthContext must used inside an AuthContextProvider')\n  }\n\n  return context;\n}","import { useEffect, useRef, useState } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useCollection = (collection, _query, _orderQuery) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n\n  const query = useRef(_query).current\n  const orderQuery = useRef(_orderQuery).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderQuery) {\n      ref = ref.orderBy(...orderQuery)\n    }\n    const unsubscribe = ref.onSnapshot((snapshot) => {\n      let results = [];\n      snapshot.docs.forEach((doc) => {\n        results.push({ id: doc.id, ...doc.data() })\n      })\n      setDocuments(results);\n      setError(null);\n    }, (error) => {\n      console.log(error);\n      setError('Could not fetch the data');\n    })\n\n    return () => unsubscribe();\n  }, [collection, query, orderQuery])\n\n  return { documents, error };\n}","// styles\nimport './Avatar.css'\n\nexport default function Avatar({ src, title }) {\n  return (\n    <div className=\"avatar\">\n      <img src={src} alt=\"user avatar\" title={title}/>\n    </div>\n  )\n}","import { Link } from 'react-router-dom'\nimport Avatar from '../components/Avatar'\n\n// styles\nimport './ProjectList.css'\n\nexport default function ProjectList({ projects }) {\n  return (\n    <div className=\"project-list\">\n      {projects.length === 0 && <p>No projects yet!</p>}\n      {projects.map(project => (\n        <Link to={`/projects/${project.id}`} key={project.id}>\n          <h4>{project.name}</h4>\n          <p>Due by {project.dueDate.toDate().toDateString()}</p>\n          <div className=\"assigned-to\">\n            <p><strong>Assigned to:</strong></p>\n            <ul>\n              {project.assignedUsersList.map(user => (\n                <li key={user.id}>\n                  <Avatar src={user.photoURL} title={user.displayName}/>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </Link>\n      ))}\n    </div>\n  )\n}","const filterList = ['all', 'mine', 'development', 'design', 'marketing', 'sales']\n\nexport default function ProjectFilter({ currentFilter, changeFilter }) {\n  return (\n    <div className=\"project-filter\">\n      <nav>\n        <p>Filter by: </p>\n        {filterList.map((f) => (\n          <button key={f}\n            onClick={() => changeFilter(f)}\n            className={currentFilter === f ? 'active' : ''}\n          >{f}</button>\n        ))}\n      </nav>\n    </div>\n  )\n}","import { useCollection } from '../../hooks/useCollection'\nimport { useState } from 'react'\nimport { useAuthContext } from '../../hooks/useAuthContext'\n\n// components\nimport ProjectList from '../../components/ProjectList'\nimport ProjectFilter from './ProjectFilter'\n\n// styles\nimport './Dashboard.css';\n\nconst Dashboard = () => {\n  const { documents, error } = useCollection('projects')\n  const [currentFilter, setCurrentFilter] = useState('all')\n  const { user } = useAuthContext()\n\n  const changeFilter = (newFilter) => {\n    setCurrentFilter(newFilter);\n  }\n\n  const projects = documents ? documents.filter((doc) => {\n    switch (currentFilter) {\n      case 'all':\n        return true;\n      case 'mine':\n        let assignedToMe = false;\n        doc.assignedUsersList.forEach((u) => {\n          if (u.id === user.uid) {\n            assignedToMe = true;\n          }\n        })\n        return assignedToMe;\n      default:\n        return currentFilter === doc.category;\n    }\n  }) : null;\n\n  return (\n    <div>\n      <h2 className=\"page-title\">Dashboard</h2>\n      {error && <p className=\"error\">{error}</p>}\n      {documents && <ProjectFilter currentFilter={currentFilter} changeFilter={changeFilter}/>}\n      {projects && <ProjectList projects={projects} />}\n    </div>\n  );\n}\n\nexport default Dashboard","import { useReducer, useEffect, useState } from \"react\";\nimport { projectFirestore, timestamp } from '../firebase/config';\n\nconst intialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null\n}\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case 'IS_PENDING':\n      return { isPending: true, document: null, success: false, error: null }\n    case 'ADDED_DOCUMENT':\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'DELETED_DOCUMENT':\n      return { isPending: false, document: null, success: true, error: null }\n    case \"UPDATED_DOCUMENT\":\n      return { isPending: false, document: action.payload, success: true, error: null }\n    case 'ERROR':\n      return { isPending: false, document: null, success: false, error: action.payload }\n    default:\n      return state\n  }\n}\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, intialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const ref = projectFirestore.collection(collection);\n\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  }\n\n  const addDocument = async (doc) => {\n    dispatch({ type: 'IS_PENDING' })\n \n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({ type: 'ADDED_DOCUMENT', payload: addedDocument })\n    } catch (err) {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: err.message })\n    }\n  }\n\n  const deleteDocument = async (id) => {\n    dispatch({ type: 'IS_PENDING' })\n    try {\n      await ref.doc(id).delete()\n      dispatchIfNotCancelled({ type: 'DELETED_DOCUMENT' }) \n    } catch {\n      dispatchIfNotCancelled({ type: 'ERROR', payload: 'Could not delete'})\n    }\n  }\n\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: \"IS_PENDING\" })\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates)\n      dispatchIfNotCancelled({ type: \"UPDATED_DOCUMENT\", payload: updatedDocument })\n      return updatedDocument\n    }\n    catch (error) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: error })\n      return null\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { addDocument, deleteDocument, updateDocument, response }\n}\n","import { useEffect, useState } from 'react'\nimport Select from 'react-select'\nimport { useCollection } from '../../hooks/useCollection'\nimport { useAuthContext } from '../../hooks/useAuthContext'\nimport { timestamp } from '../../firebase/config'\nimport { useFirestore } from '../../hooks/useFirestore'\nimport { useHistory } from 'react-router-dom'\n\n// styles\nimport './Create.css'\n\nconst categories = [\n  { value: 'development', label: 'Development' },\n  { value: 'design', label: 'Design' },\n  { value: 'sales', label: 'Sales' },\n  { value: 'marketing', label: 'Marketing' },\n]\n\nexport default function Create() {\n  const { user } = useAuthContext()\n  const { documents } = useCollection('users')\n  const [users, setUsers] = useState([])\n  const { addDocument, response } = useFirestore('projects')\n  const history = useHistory()\n\n  // form field values\n  const [name, setName] = useState('')\n  const [details, setDetails] = useState('')\n  const [dueDate, setDueDate] = useState('')\n  const [category, setCategory] = useState('')\n  const [assignedUsers, setAssignedUsers] = useState([])\n  const [formError, setFormError] = useState(null)\n\n  useEffect(() => {\n    if (documents) {\n      const options = documents.map((user) => {\n        return { value: user, label: user.displayName }\n      })\n      setUsers(options)\n    }\n  }, [documents])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setFormError(null)\n\n    if (!category) {\n      setFormError('Please select a project category')\n      return\n    }\n    if (assignedUsers.length < 1) {\n      setFormError('Please assign the project to atleast 1 user')\n      return\n    }\n\n    const assignedUsersList = assignedUsers.map(u => {\n      return {\n        displayName: u.value.displayName,\n        photoURL: u.value.photoURL,\n        id: u.value.id\n      }\n    })\n    const createdBy = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      id: user.uid\n    }\n\n    const project = {\n      name,\n      details,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)),\n      assignedUsersList,\n      createdBy,\n      comments: []\n    }\n    \n    await addDocument(project)\n    if (!response.error) {\n      history.push('/')\n    }\n  }\n\n  return (\n    <div className=\"create-form\">\n      <h2 className=\"page-title\">Create a new Project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project name:</span>\n          <input\n            required\n            type=\"text\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Project Details:</span>\n          <textarea\n            required\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n        <label>\n          <span>Set due date:</span>\n          <input\n            required\n            type=\"date\"\n            onChange={(e) => setDueDate(e.target.value)}\n            value={dueDate}\n          />\n        </label>\n        <label>\n          <span>Project category:</span>\n          <Select\n            options={categories}\n            onChange={(option) => setCategory(option)}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            options={users}\n            onChange={(options) => setAssignedUsers(options)}\n            isMulti\n          />\n        </label>\n\n        <button className=\"btn\">Add Project</button>\n\n        {formError && <p className=\"error\">{formError}</p>}\n      </form>\n    </div>\n  )\n}","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // sign the user in\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n      // update online status\n      await projectFirestore.collection('users').doc(res.user.uid).update({ online: true })\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { login, error, isPending }\n}","import { useState } from 'react';\nimport { useLogin } from '../../hooks/useLogin'\n\n// styles\nimport './Login.css';\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('')\n\n  const { login, error, isPending } = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Login</h2>\n      <label>\n        <span>Email:</span>\n        <input\n          required\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          required\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Login</button>}\n      {isPending && <button className=\"btn\" disabled>Loading...</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n}\n \nexport default Login;","import { useEffect, useState } from \"react\";\nimport { projectAuth, projectStorage, projectFirestore } from '../firebase/config';\nimport { useAuthContext } from \"./useAuthContext\";\n\nconst useSignup = () => {\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n\n      // upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`\n      const img = await projectStorage.ref(uploadPath).put(thumbnail)\n      const imgUrl = await img.ref.getDownloadURL()\n\n      // add display name photo url to user\n      await res.user.updateProfile({ displayName: displayName, photoURL: imgUrl })\n\n      // create a user document\n      await projectFirestore.collection('users').doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgUrl\n      })\n\n      // dispatch login action\n      dispatch({type: 'LOGIN', payload: res.user })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { signup, error, isPending }\n}\n \nexport default useSignup;","import { useState } from 'react'\nimport useSignup from '../../hooks/useSignup'\n\n// styles\nimport './Signup.css'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const [thumbnail, setThumbnail] = useState(null)\n  const [thumbnailError, setThumbnailError] = useState(null)\n  const { signup, isPending, error } = useSignup()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName, thumbnail);\n  }\n\n  const handleFileChange = (e) => {\n    setThumbnail(null);\n    let selected = e.target.files[0];\n\n    if (!selected) {\n      setThumbnailError('Please select a file');\n      return;\n    }\n    if (!selected.type.includes('image')) {\n      setThumbnailError('Selected file must be an image');\n      return;\n    }\n    if (selected.size > 100000) {\n      setThumbnailError('Image file size must be less than 100KB')\n      return;\n    }\n\n    setThumbnailError(null);\n    setThumbnail(selected)\n  }\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Sign Up</h2>\n      <label>\n        <span>Email:</span>\n        <input\n          required\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          required\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>Display Name:</span>\n        <input\n          required\n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>Profile Thumbnail:</span>\n        <input\n          required\n          type=\"file\"\n          onChange={handleFileChange}\n        />\n        {thumbnailError && <div className='error'>{thumbnailError}</div>}\n      </label>\n      {!isPending && <button className=\"btn\">Sign up</button>}\n      {isPending && <button className=\"btn\" disabled>Loading...</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}","import Avatar from \"../../components/Avatar\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport { useHistory } from 'react-router-dom'\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\n\nexport default function ProjectSummary({ project }) {\n  const { deleteDocument } = useFirestore('projects')\n  const { user } = useAuthContext()\n  const history = useHistory()\n\n  const handleClick = () => {\n    deleteDocument(project.id)\n    history.push('/')\n  }\n\n  return (\n    <div>\n      <div className=\"project-summary\">\n        <h2 className=\"page-title\">{project.name}</h2>\n        <p>By {project.createdBy.displayName}</p>\n        <p className=\"due-date\">\n          Project due by {project.dueDate.toDate().toDateString()}\n        </p>\n        <p className=\"details\">\n          {project.details}\n        </p>\n        <h4>Project assigned to:</h4>\n        <div className=\"assigned-users\">\n          {project.assignedUsersList.map(user => (\n            <div key={user.id}>\n              <Avatar src={user.photoURL} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {user.uid === project.createdBy.id && (\n        <button className=\"btn\" onClick={handleClick}>Mark as Complete</button>\n      )}\n    </div>\n  )\n}","import { useState } from \"react\"\nimport { timestamp } from \"../../firebase/config\"\nimport { useAuthContext } from \"../../hooks/useAuthContext\"\nimport { useFirestore } from \"../../hooks/useFirestore\"\nimport Avatar from \"../../components/Avatar\"\n\nexport default function ProjectComments({ project }) {\n  const { user } = useAuthContext()\n  const [newComment, setNewComment] = useState('')\n  const { updateDocument, response } = useFirestore('projects')\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const commentToAdd = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      content: newComment,\n      createdAt: timestamp.fromDate(new Date()),\n      id: Math.random()\n    }\n    updateDocument(project.id, {\n      comments: [...project.comments, commentToAdd]\n    })\n    if (!response.error) {\n      setNewComment('')\n    }\n  }\n\n  return (\n    <div className=\"project-comments\">\n      <h4>Project Comments</h4>\n      <ul>\n        {project.comments.length > 0 && project.comments.map(comment => (\n          <li key={comment.id}>\n            <div className=\"comment-author\">\n              <Avatar src={comment.photoURL} />\n              <p>{comment.displayName}</p>\n            </div>\n            <div className=\"comment-date\">\n              <p>{comment.createdAt.toDate().toDateString()}</p>\n            </div>\n            <div className=\"comment-content\">\n              <p>{comment.content}</p>\n            </div>\n          </li>\n        ))}\n      </ul>\n\n      <form className=\"add-comment\" onSubmit={handleSubmit}>\n        <label>\n          <span>Add new comment:</span>\n          <textarea\n            onChange={(e) => setNewComment(e.target.value)}\n            value={newComment}\n          ></textarea>\n        </label>\n        <button className=\"btn\">Add Comment</button>\n      </form>\n    </div>\n  )\n}","import { useParams } from \"react-router-dom\"\nimport { useDocument } from '../../hooks/useDocument'\n\n// styles\nimport './Project.css'\n\n// components\nimport ProjectSummary from \"./ProjectSummary\"\nimport ProjectComments from \"./ProjectComments\"\n\nexport default function Project() {\n  const { id } = useParams()\n  const { document, error } = useDocument('projects', id)\n\n  if (error) {\n    return <div className=\"error\">{error}</div>\n  }\n\n  if (!document) {\n    return <div className=\"loading\">Loading...</div>\n  }\n\n  return (\n    <div className=\"project-details\">\n      <ProjectSummary project={document} />\n      <ProjectComments project={document} />\n    </div>\n  )\n}","import { useEffect, useState } from \"react\"\nimport { projectFirestore } from \"../firebase/config\"\n\nexport const useDocument = (collection, id) => {\n  const [document, setDocument] = useState(null)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    const ref = projectFirestore.collection(collection).doc(id)\n    const unsubscribe = ref.onSnapshot(snapshot => {\n      // make sure the doc exists & has data\n      if (snapshot.data()) {\n        setDocument({ ...snapshot.data(), id: snapshot.id })\n        setError(null)\n      } else {\n        setError('No such document exists')\n      }\n    }, err => {\n      console.log(err.message)\n      setError('Failed to get document')\n    })\n\n    return () => unsubscribe()\n\n  }, [collection, id])\n\n  return { document, error }\n}","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // update online status\n      const { uid } = user;\n      await projectFirestore.collection('users').doc(uid).update({ online: false })\n      // sign the user out\n      await projectAuth.signOut()\n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { logout, error, isPending }\n}","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// styles & images\nimport './Navbar.css'\nimport Temple from '../assets/temple.svg'\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout();\n  const { user } = useAuthContext();\n\n  return (\n    <nav className=\"navbar\">\n      <ul>\n        <li className=\"logo\">\n          <img src={Temple} alt=\"dojo logo\" />\n          <span>The Dojo</span>\n        </li>\n        {user ? (\n          <li>\n            {!isPending && <button className=\"btn\" onClick={logout}>Logout</button>}\n            {isPending && <button className=\"btn\" disabled>Loggin out...</button>}\n          </li>\n        ) : (\n          <>\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>\n        )}\n      </ul>\n    </nav>\n  )\n}","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from \"react-router-dom\"\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// components\nimport Avatar from \"./Avatar\"\n\n// styles & images\nimport \"./Sidebar.css\"\nimport DashboardIcon from '../assets/dashboard_icon.svg'\nimport AddIcon from '../assets/add_icon.svg'\n\nexport default function Sidebar() {\n  const { user } = useAuthContext();\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <div className=\"user\">\n          <Avatar src={user.photoURL} />\n          <p>Hey {user.displayName}</p>\n        </div>\n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink exact to=\"/\">\n                <img src={DashboardIcon} alt=\"dashboard icon\" />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/create\">\n                <img src={AddIcon} alt=\"add project icon\" />\n                <span>New Project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  )\n}","import { useCollection } from '../hooks/useCollection'\n\n// components\nimport Avatar from './Avatar'\n\n// styles\nimport './OnlineUsers.css'\n\nexport default function OnlineUsers() {\n  const { isPending, error, documents } = useCollection('users')\n\n  return (\n    <div className=\"user-list\">\n      <h2>All Users</h2>\n      {isPending && <div>Loading users...</div>}\n      {error && <div>{error}</div>}\n      {documents && documents.map(user => (\n        <div key={user.id} className=\"user-list-item\">\n          {user.online && <span className='online-user'></span>}\n          <span>{user.displayName}</span>\n          <Avatar src={user.photoURL} />\n        </div>\n      ))}\n    </div>\n  )\n}","import { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n\n// styles\nimport './App.css'\n\n// pages and components\nimport Dashboard from './pages/dashboard/Dashboard';\nimport Create from './pages/create/Create';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\nimport Project from './pages/project/Project';\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers'\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext();\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter basename={process.env.PUBLIC_URL} >\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\">\n                {!user && <Redirect  to=\"/login\" />}\n                {user && <Dashboard />}\n              </Route>\n              <Route path=\"/create\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Create />}\n              </Route>\n              <Route path=\"/login\">\n                {!user && <Login />}\n                {user && <Redirect to=\"/\" />}\n              </Route>\n              <Route path=\"/signup\">\n                {!user && <Signup />}\n                {user && <Redirect to=\"/\" />}\n              </Route>\n              <Route path=\"/projects/:id\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Project />}\n              </Route>\n            </Switch>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    < AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}