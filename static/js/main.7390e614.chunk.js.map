{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","pages/dashboard/Dashboard.js","pages/create/Create.js","pages/login/Login.js","hooks/useLogin.js","hooks/useSignup.js","pages/signup/Signup.js","pages/project/Project.js","assets/temple.svg","components/Navbar.js","hooks/useLogout.js","components/Avatar.js","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.js","components/OnlineUsers.js","hooks/useCollection.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","useEffect","unsubscribe","onAuthStateChanged","Provider","value","useAuthContext","context","useContext","Error","Dashboard","Create","Login","useState","email","setEmail","password","setPassword","error","setError","isPending","setIsPending","isCancelled","setIsCancelled","login","a","signInWithEmailAndPassword","res","collection","doc","uid","update","online","message","useLogin","className","onSubmit","e","preventDefault","required","onChange","target","disabled","useSignup","signup","displayName","thumbnail","createUserWithEmailAndPassword","uploadPath","name","ref","put","img","getDownloadURL","imgUrl","updateProfile","photoURL","set","Signup","setDisplayName","setThumbnail","thumbnailError","setThumbnailError","selected","files","includes","size","Project","Navbar","logout","signOut","useLogout","src","Temple","alt","onClick","to","Avatar","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","_query","_orderQuery","documents","setDocuments","query","useRef","current","orderQuery","where","orderBy","onSnapshot","snapshot","results","docs","forEach","push","id","data","console","log","useCollection","map","App","basename","process","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7390e614.chunk.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore'\nimport 'firebase/auth'\nimport 'firebase/storage'\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBwPKqowgFJDC-zO_cAiPgDXHgibvGWqv8\",\n  authDomain: \"the-dojo-76b39.firebaseapp.com\",\n  projectId: \"the-dojo-76b39\",\n  storageBucket: \"the-dojo-76b39.appspot.com\",\n  messagingSenderId: \"830539958632\",\n  appId: \"1:830539958632:web:435ff56d7cf53273352edd\"\n};\n\nfirebase.initializeApp(firebaseConfig)\n\nconst projectFirestore = firebase.firestore()\nconst projectAuth = firebase.auth()\nconst projectStorage = firebase.storage()\n\nconst timestamp = firebase.firestore.Timestamp\n\nexport { projectFirestore, projectAuth, projectStorage, timestamp }","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n  switch(action.type) {\n    case 'LOGIN':\n      return {...state, user: action.payload};\n    case 'LOGOUT':\n      return { ...state, user: null }\n    case 'AUTH_IS_READY':\n      return { ...state, user: action.payload, authIsReady: true};\n    default:\n      return state;\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    user: null,\n    authIsReady: false\n  })\n\n  useEffect(() => {\n    const unsubscribe = projectAuth.onAuthStateChanged((user) => {\n      dispatch({ type: 'AUTH_IS_READY', payload: user });\n      unsubscribe();\n    })\n  }, [])\n\n  return (\n    <AuthContext.Provider value={ {...state, dispatch} }>\n      { children }\n    </AuthContext.Provider>\n  )\n}\n","import { useContext } from \"react\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw new Error('useAuthContext must used inside an AuthContextProvider')\n  }\n\n  return context;\n}","// styles\nimport './Dashboard.css';\n\nconst Dashboard = () => {\n  return (\n    <div>\n      Dashboard\n    </div>\n  );\n}\n\nexport default Dashboard","// styles\nimport './Create.css';\n\nconst Create = () => {\n  return (\n    <div>\n      Create\n    </div>\n  );\n}\n \nexport default Create;","import { useState } from 'react';\nimport { useLogin } from '../../hooks/useLogin'\n\n// styles\nimport './Login.css';\n\nconst Login = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('')\n\n  const { login, error, isPending } = useLogin()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    login(email, password)\n  }\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Login</h2>\n      <label>\n        <span>Email:</span>\n        <input\n          required\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          required\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      {!isPending && <button className=\"btn\">Login</button>}\n      {isPending && <button className=\"btn\" disabled>Loading...</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  );\n}\n \nexport default Login;","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogin = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch } = useAuthContext()\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const login = async (email, password) => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // sign the user in\n      const res = await projectAuth.signInWithEmailAndPassword(email, password)\n      // update online status\n      await projectFirestore.collection('users').doc(res.user.uid).update({ online: true })\n      // dispatch login action\n      dispatch({ type: 'LOGIN', payload: res.user })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { login, error, isPending }\n}","import { useEffect, useState } from \"react\";\nimport { projectAuth, projectStorage, projectFirestore } from '../firebase/config';\nimport { useAuthContext } from \"./useAuthContext\";\n\nconst useSignup = () => {\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(email, password)\n      if (!res) {\n        throw new Error('Could not complete signup')\n      }\n\n      // upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`\n      const img = await projectStorage.ref(uploadPath).put(thumbnail)\n      const imgUrl = await img.ref.getDownloadURL()\n\n      // add display name photo url to user\n      await res.user.updateProfile({ displayName: displayName, photoURL: imgUrl })\n\n      // create a user document\n      await projectFirestore.collection('users').doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgUrl\n      })\n\n      // dispatch login action\n      dispatch({type: 'LOGIN', payload: res.user })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { signup, error, isPending }\n}\n \nexport default useSignup;","import { useState } from 'react'\nimport useSignup from '../../hooks/useSignup'\n\n// styles\nimport './Signup.css'\n\nexport default function Signup() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [displayName, setDisplayName] = useState('')\n  const [thumbnail, setThumbnail] = useState(null)\n  const [thumbnailError, setThumbnailError] = useState(null)\n  const { signup, isPending, error } = useSignup()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    signup(email, password, displayName, thumbnail);\n  }\n\n  const handleFileChange = (e) => {\n    setThumbnail(null);\n    let selected = e.target.files[0];\n\n    if (!selected) {\n      setThumbnailError('Please select a file');\n      return;\n    }\n    if (!selected.type.includes('image')) {\n      setThumbnailError('Selected file must be an image');\n      return;\n    }\n    if (selected.size > 100000) {\n      setThumbnailError('Image file size must be less than 100KB')\n      return;\n    }\n\n    setThumbnailError(null);\n    setThumbnail(selected)\n  }\n\n  return (\n    <form className=\"auth-form\" onSubmit={handleSubmit}>\n      <h2>Sign Up</h2>\n      <label>\n        <span>Email:</span>\n        <input\n          required\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>Password:</span>\n        <input\n          required\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>Display Name:</span>\n        <input\n          required\n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>Profile Thumbnail:</span>\n        <input\n          required\n          type=\"file\"\n          onChange={handleFileChange}\n        />\n        {thumbnailError && <div className='error'>{thumbnailError}</div>}\n      </label>\n      {!isPending && <button className=\"btn\">Sign up</button>}\n      {isPending && <button className=\"btn\" disabled>Loading...</button>}\n      {error && <div className=\"error\">{error}</div>}\n    </form>\n  )\n}","// styles\nimport './Project.css';\n\nconst Project = () => {\n  return (\n    <div>\n      Project\n    </div>\n  );\n}\n\nexport default Project","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from 'react-router-dom'\nimport { useLogout } from '../hooks/useLogout'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// styles & images\nimport './Navbar.css'\nimport Temple from '../assets/temple.svg'\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout();\n  const { user } = useAuthContext();\n\n  return (\n    <nav className=\"navbar\">\n      <ul>\n        <li className=\"logo\">\n          <img src={Temple} alt=\"dojo logo\" />\n          <span>The Dojo</span>\n        </li>\n        {user ? (\n          <li>\n            {!isPending && <button className=\"btn\" onClick={logout}>Logout</button>}\n            {isPending && <button className=\"btn\" disabled>Loggin out...</button>}\n          </li>\n        ) : (\n          <>\n            <li><Link to=\"/login\">Login</Link></li>\n            <li><Link to=\"/signup\">Signup</Link></li>\n          </>\n        )}\n      </ul>\n    </nav>\n  )\n}","import { useState, useEffect } from 'react'\nimport { projectAuth, projectFirestore } from '../firebase/config'\nimport { useAuthContext } from './useAuthContext'\n\nexport const useLogout = () => {\n  const [error, setError] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const { dispatch, user } = useAuthContext()\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  const logout = async () => {\n    setError(null)\n    setIsPending(true)\n    try {\n      // update online status\n      const { uid } = user;\n      await projectFirestore.collection('users').doc(uid).update({ online: false })\n      // sign the user out\n      await projectAuth.signOut()\n      // dispatch logout action\n      dispatch({ type: 'LOGOUT' })\n    }\n    catch (err) {\n      if (!isCancelled) {\n        setError(err.message)\n      }\n    }\n    if (!isCancelled) {\n      setIsPending(false)\n    }\n  }\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, [])\n\n  return { logout, error, isPending }\n}","// styles\nimport './Avatar.css'\n\nexport default function Avatar({ src }) {\n  return (\n    <div className=\"avatar\">\n      <img src={src} alt=\"user avatar\" />\n    </div>\n  )\n}","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from \"react-router-dom\"\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// components\nimport Avatar from \"./Avatar\"\n\n// styles & images\nimport \"./Sidebar.css\"\nimport DashboardIcon from '../assets/dashboard_icon.svg'\nimport AddIcon from '../assets/add_icon.svg'\n\nexport default function Sidebar() {\n  const { user } = useAuthContext();\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <div className=\"user\">\n          <Avatar src={user.photoURL} />\n          <p>Hey {user.displayName}</p>\n        </div>\n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink exact to=\"/\">\n                <img src={DashboardIcon} alt=\"dashboard icon\" />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/create\">\n                <img src={AddIcon} alt=\"add project icon\" />\n                <span>New Project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  )\n}","import { useCollection } from '../hooks/useCollection'\n\n// components\nimport Avatar from './Avatar'\n\n// styles\nimport './OnlineUsers.css'\n\nexport default function OnlineUsers() {\n  const { isPending, error, documents } = useCollection('users')\n\n  return (\n    <div className=\"user-list\">\n      <h2>All Users</h2>\n      {isPending && <div>Loading users...</div>}\n      {error && <div>{error}</div>}\n      {documents && documents.map(user => (\n        <div key={user.id} className=\"user-list-item\">\n          {user.online && <span className='online-user'></span>}\n          <span>{user.displayName}</span>\n          <Avatar src={user.photoURL} />\n        </div>\n      ))}\n    </div>\n  )\n}","import { useEffect, useRef, useState } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useCollection = (collection, _query, _orderQuery) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n\n  const query = useRef(_query).current\n  const orderQuery = useRef(_orderQuery).current\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n    if (query) {\n      ref = ref.where(...query)\n    }\n    if (orderQuery) {\n      ref = ref.orderBy(...orderQuery)\n    }\n    const unsubscribe = ref.onSnapshot((snapshot) => {\n      let results = [];\n      snapshot.docs.forEach((doc) => {\n        results.push({ id: doc.id, ...doc.data() })\n      })\n      setDocuments(results);\n      setError(null);\n    }, (error) => {\n      console.log(error);\n      setError('Could not fetch the data');\n    })\n\n    return () => unsubscribe();\n  }, [collection, query, orderQuery])\n\n  return { documents, error };\n}","import { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport { useAuthContext } from './hooks/useAuthContext';\n\n// styles\nimport './App.css'\n\n// pages and components\nimport Dashboard from './pages/dashboard/Dashboard';\nimport Create from './pages/create/Create';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\nimport Project from './pages/project/Project';\nimport Navbar from './components/Navbar';\nimport Sidebar from './components/Sidebar';\nimport OnlineUsers from './components/OnlineUsers'\n\nfunction App() {\n  const { user, authIsReady } = useAuthContext();\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter basename={process.env.PUBLIC_URL} >\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\">\n                {!user && <Redirect  to=\"/login\" />}\n                {user && <Dashboard />}\n              </Route>\n              <Route path=\"/create\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Create />}\n              </Route>\n              <Route path=\"/login\">\n                {!user && <Login />}\n                {user && <Redirect to=\"/\" />}\n              </Route>\n              <Route path=\"/signup\">\n                {!user && <Signup />}\n                {user && <Redirect to=\"/\" />}\n              </Route>\n              <Route path=\"/project/:id\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Project />}\n              </Route>\n            </Switch>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthContextProvider } from './context/AuthContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    < AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}